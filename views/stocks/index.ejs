<div ng-controller="StockController">

	<%- partial('partials/top', {page: page}) %>
	
<div id="sectionDemo">
	
	<% /*form_for("#", function(f){ %>

	    <%- f.text_field("symbol",{placeholder:"Type company or stock symbol", class:"stockSymbol"}) %>

	    <%- f.submit("Retrieve") %><br />
	<% }) */%>


<h2> Retrieve Stock Quote</h2>
	<form ng-submit="stockSymbolLookup()">
	<p>
	<input type="text" name="stockSymbol" id="stockSymbol" placeholder="Type company or stock symbol" ng-model="stockQuery" ng-keyup="stockSynbolAutoComplete()">
	<input type="button" name="submit" id="submit" value="Retrieve">
	</p>
	</form>

	<p>You are searching for: {{stockQuery}}</p>
	
	<table id="stockResults">
		<tr class="stockResultsHeader">
		<td colspan="2">Results</td>
		</tr>
		<tr>
			<td>Name</td>
			<td>{{stock.name}}</td>
		</tr>
		<tr>
			<td>Symbol</td>
			<td>{{stock.symbol}}</td>
		</tr>
		<tr>
			<td>Exchange</td>
			<td>{{stock.exchange}}</td>
		</tr>
		<tr>
			<td>Last Price</td>
			<td>{{stock.lastPrice}}</td>
		</tr>
		
	</table>

	
	<div id="stockHistory">
		<h2>Stock Quote History</h2>

		<%/*....(In Progress - I plan to store all quotes submitted into MongoDB, including the tracking of user information, and display it here. Some proof to show how non-private your information really is.) */%>

		<table class="table  table-striped">
			<tr>
				<td>Stock Symbol</td>
				<td>Stock Price</td>
				<td>IP Address</td>
				<td>Country Code</td>
				<td>Country Name</td>
				<td>Region Name</td>
				<td>City Name</td>
				<td>Zip Code</td>
				<td>Latitude</td>
				<td>Longitude</td>
				<td>Time Zone</td>
			</tr>
			<tr ng-repeat="data in clientData">
				<td>{{data.stockSymbol}}</td>
				<td>{{data.stockPrice}}</td>
				<td>{{data.ipAddress}}</td>
				<td>{{data.countryCode}}</td>
				<td>{{data.countryName}}</td>
				<td>{{data.regionName}}</td>
				<td>{{data.cityName}}</td>
				<td>{{data.zipCode}}</td>
				<td>{{data.latitude}}</td>
				<td>{{data.longitude}}</td>
				<td>{{data.timeZone}}</td>
			</tr>
		</table>
		

	</div>

 <!--
	<div class="sections">
	    <% for(section in sections) { %>
	         <p>
	            <b><a href="<%= sections[section].link %>"> <%= sections[section].name %></a></b><br>
	             <%= sections[section].description %>
	         </p>
	     <% } %>
	</div>
-->

</div>
</div>